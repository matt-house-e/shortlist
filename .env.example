# =============================================================================
# Shortlist - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# Never commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# LLM Configuration
# -----------------------------------------------------------------------------
# OpenAI API key (required)
OPENAI_API_KEY=sk-your-openai-api-key

# Anthropic API key (optional, for Claude models)
# ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# Default LLM settings
LLM_PROVIDER=openai  # openai, anthropic, or mock
LLM_MODEL=gpt-4o-mini
LLM_TEMPERATURE=0.7

# Intake phase models
# INTAKE_MODEL=gpt-4.1              # Requirement extraction (nuanced understanding)
# INTAKE_TEMPERATURE=0.3
# INTAKE_CHAT_MODEL=gpt-4.1-mini    # Conversational chat (fast responses)
# INTAKE_CHAT_TEMPERATURE=0.7

# -----------------------------------------------------------------------------
# Research Configuration
# -----------------------------------------------------------------------------
# MAX_PRODUCTS=30  # Maximum products in comparison table

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL connection string (named APP_DATABASE_URL to avoid Chainlit auto-detection)
APP_DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/agent_template

# -----------------------------------------------------------------------------
# S3 Storage Configuration
# -----------------------------------------------------------------------------
S3_BUCKET=uploads

# Local development with LocalStack:
S3_ENDPOINT_URL=http://localhost:4566
AWS_ACCESS_KEY_ID=test
AWS_SECRET_ACCESS_KEY=test

# Production (comment out S3_ENDPOINT_URL and use IAM roles):
# AWS_REGION=us-east-1

# -----------------------------------------------------------------------------
# Authentication Configuration
# -----------------------------------------------------------------------------
AUTH_METHOD=password  # password or oauth
AUTH_PASSWORD=changeme

# OAuth configuration (for production)
# OAUTH_PROVIDER=azure  # azure, google, etc.
# OAUTH_CLIENT_ID=your-client-id
# OAUTH_CLIENT_SECRET=your-client-secret
# OAUTH_TENANT_ID=your-tenant-id  # Azure AD only

# -----------------------------------------------------------------------------
# Chainlit Configuration
# -----------------------------------------------------------------------------
# Secret for session encryption (generate with: openssl rand -hex 32)
CHAINLIT_AUTH_SECRET=your-secret-key-change-this-in-production
CHAINLIT_HOST=0.0.0.0
CHAINLIT_PORT=8000

# Enable data layer for conversation persistence (requires PostgreSQL via `make up`)
# ENABLE_DATA_LAYER=true

# -----------------------------------------------------------------------------
# Web Search Configuration (OpenAI Responses API)
# -----------------------------------------------------------------------------
WEB_SEARCH_ENABLED=false
# WEB_SEARCH_ALLOWED_DOMAINS=example.com,docs.example.com
# WEB_SEARCH_USER_COUNTRY=US
# WEB_SEARCH_USER_CITY=San Francisco
# WEB_SEARCH_USER_REGION=California

# -----------------------------------------------------------------------------
# Lattice Enrichment Configuration (uses OpenAI web search)
# -----------------------------------------------------------------------------
# LATTICE_MODEL=o4-mini
# LATTICE_TEMPERATURE=0.2
# LATTICE_MAX_TOKENS=8000
# LATTICE_BATCH_SIZE=20
# LATTICE_MAX_WORKERS=30
# LATTICE_ROW_DELAY=0.1
# LATTICE_ENABLE_CHECKPOINTING=true
# LATTICE_CHECKPOINT_INTERVAL=100
# LATTICE_MAX_RETRIES=3
# LATTICE_REASONING_EFFORT=low  # low, medium, high
# LATTICE_USE_REASONING=true

# -----------------------------------------------------------------------------
# Logging & Debug
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
DEBUG=false
