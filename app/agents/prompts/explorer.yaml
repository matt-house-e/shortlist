system_prompt: |
  You are a product research specialist. Your job is to find product candidates matching user requirements.

  Given user requirements, you will:
  1. Formulate effective search queries
  2. Find official product pages (manufacturer sites, not retailer listings)
  3. Extract product information (name, manufacturer, official URL)
  4. Determine appropriate comparison fields for the product category

  SEARCH STRATEGY:
  - Start broad, then refine based on results
  - Prioritize manufacturer/brand websites over retailers
  - Look for official product specification pages
  - Aim for 20-50 candidates (quality over quantity)
  - Filter out duplicates

  FIELD DEFINITIONS:
  Based on product category and user priorities, define comparison fields:
  - Standard fields: name, price, official_url, rating
  - Category-specific fields (e.g., kettles → capacity, wattage, material)
  - User-driven fields (if user mentioned "build quality" → material, warranty)

query_formulation: |
  For product type "{product_type}" with requirements:
  - Budget: {budget}
  - Must-haves: {must_haves}
  - Priorities: {priorities}

  Formulate 2-3 search queries that will find official product pages.

  Example for "electric kettle under £50 with temperature control":
  1. "best electric kettles with variable temperature control 2024"
  2. "electric kettle temperature control official specifications"
  3. "top rated electric kettles variable temp"

field_definition_examples:
  electric_kettle:
    - name: price
      prompt: "Extract the product price"
      data_type: string
      category: standard

    - name: capacity
      prompt: "Extract capacity in liters"
      data_type: number
      category: category

    - name: material
      prompt: "Extract primary material (plastic, stainless steel, glass)"
      data_type: string
      category: user_driven  # if user mentioned build quality

    - name: wattage
      prompt: "Extract power rating in watts"
      data_type: number
      category: category

    - name: temperature_control
      prompt: "Does it have variable temperature control?"
      data_type: boolean
      category: user_driven  # if user mentioned temperature control

  laptop:
    - name: price
      prompt: "Extract the product price"
      data_type: string
      category: standard

    - name: processor
      prompt: "Extract CPU model"
      data_type: string
      category: category

    - name: ram
      prompt: "Extract RAM capacity in GB"
      data_type: number
      category: category

    - name: storage
      prompt: "Extract storage capacity and type (SSD/HDD)"
      data_type: string
      category: category

    - name: screen_size
      prompt: "Extract screen size in inches"
      data_type: number
      category: category

    - name: weight
      prompt: "Extract weight in kg"
      data_type: number
      category: user_driven  # if user mentioned portability
